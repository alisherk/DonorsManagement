<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
<h:head>

	<title><ui:insert name="title">
			<ui:include src="/templates/title.xhtml" />
		</ui:insert></title>

    <ui:insert name="bootstrap">
		<ui:include src="/templates/bootstrap.xhtml" />
	</ui:insert>

</h:head>

<h:body>
	<div>
		<ui:insert name="header">
			<ui:include src="/templates/header.xhtml" />
		</ui:insert>
	</div>

	<div class="container">

		<h:form id="filteredmembers-form">
		
		<div class="col-xs-3">
					<div
						class="text-primary text-center well well-sm">
						<p id="row-count"></p>
					</div>
				</div>

			<h:dataTable id="filteredmembers-table" styleClass="table table-striped table-hover"
				value="#{memberFilterBean.members}" var="m">


				<h:column>


					<f:facet name="header">
						<div class="text-left">#</div>
					</f:facet>
					<h:outputText value="#{m.memberNumber}" />


				</h:column>

				<h:column>

					<f:facet name="header">
						<div class="text-left">Type</div>
					</f:facet>
					<h:outputText value="#{m.type}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<div class="text-left">First</div>
					</f:facet>
					<h:outputText value="#{m.firstName}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<div class="text-left">Last</div>
					</f:facet>
					<h:outputText value="#{m.lastName}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<div class="text-left">Street</div>
					</f:facet>
					<h:outputText value="#{m.streetAddress}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<div class="text-left">City</div>
					</f:facet>
					<h:outputText value="#{m.city}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<div class="text-left">Prov</div>
					</f:facet>
					<h:outputText value="#{m.province}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<div class="text-left">Postal</div>
					</f:facet>
					<h:outputText value="#{m.postalCode}" />
				</h:column>

				<h:column>
					<f:facet name="header">
						<div class="text-left">Email</div>
					</f:facet>
					<h:outputText value="#{m.email}" />

				</h:column>


				<h:column>
					<f:facet name="header">
						<div class="text-center">Phone</div>
					</f:facet>

					<h:outputText value="#{m.phone}" />

				</h:column>

				<h:column>
					<f:facet name="header">
						<div class="text-left">Note</div>
					</f:facet>

					<h:outputText value="#{m.comment}" />

				</h:column>

				<h:column>

					<h:commandLink action="#{memberFilterBean.editMember(m)}">
						<i class="glyphicon glyphicon-edit"></i>
					</h:commandLink>


				</h:column>


				<h:column>

					<h:commandLink action="#{memberFilterBean.deleteMember(m)}">

						<i class="glyphicon glyphicon-trash"></i>

					</h:commandLink>

				</h:column>

			</h:dataTable>
	
	<script type="text/javascript">
	
	var rowcount= document.getElementById('filteredmembers-form:filteredmembers-table').rows.length - 1;
    var p = document.getElementById('row-count'); 
    var rec = rowcount > 1 ? 'records': 'record';
    p.innerHTML = 'Found ' + rowcount +'\t' + rec ; 
     
    </script>
		</h:form>
	</div>

</h:body>

</html>
